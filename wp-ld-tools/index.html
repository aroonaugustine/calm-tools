<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>LearnDash — Finish Remaining Steps (v2.3-web)</title>
  <meta name="robots" content="noindex,nofollow">
  <link rel="stylesheet" href="/portal-assets/css/portal.css">
  <link rel="stylesheet" href="/portal-assets/css/tool.css">
</head>
<body>
  <main>
    <div class="tool-card">
      <header class="tool-card__header">
        <h1>LearnDash — Finish Remaining Steps</h1>
        <span class="tool-card__version">v2.3-web</span>
        <p class="tool-card__lede">
          Marks incomplete lessons/topics/quizzes as complete for a single user. If quizzes exist, records a 100% pass and marks the quiz step complete too.
          Uses <code>wp-load.php</code> so it runs outside WP Admin. Protected with a launcher token.
        </p>
      </header>

  <form method="get" action="finish_user.php" target="_blank">
    <fieldset>
      <legend>Auth</legend>
      <label>Launcher Token:
        <input type="password" name="token" placeholder="paste token" required>
      </label>
    </fieldset>

    <fieldset>
      <legend>User & Course</legend>
      <label>User (login or email):
        <input type="text" name="user" placeholder="e.g. harischandra01119 or user@example.com" required>
      </label>
      <label>Course ID (optional; blank = process all enrolled courses):
        <input type="number" name="course_id" min="0" step="1" placeholder="2869">
      </label>
      <label class="row"><input type="checkbox" name="dry_run" value="1" checked> Dry run (show actions, no writes)</label>
    </fieldset>

    <div class="row" style="margin-top:12px">
      <button type="submit">Run</button>
    </div>
  </form>

  <p class="muted" style="margin-top:16px">
    Output is plain text. Example direct URL:<br>
    <code>?user=harischandra01119&amp;dry_run=1</code> &nbsp;or&nbsp;
    <code>?user=user@example.com&amp;course_id=2869</code>
    </div>
  </main>
  <script src="/portal-assets/js/tool.js" defer></script>
</body>
</html>
